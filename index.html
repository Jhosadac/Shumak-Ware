<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotel Shumak Ware</title>
    <!--estilos-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Caveat&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

    <!--libreria de firebase-->
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-database.js"></script> 
</head>
<body>
    <!-- Hero Section -->
    <section class="hero-section">
        <img src="assests/main_image.gif" alt="Hotel Shumak Ware" class="hero-bg">
        <div class="overlay"></div>
        
        <header class="header">
            <img src="assests/logo_final.png" alt="Logo Shumak Ware">
            <nav class="nav-links">
                <div class="dropdown-restaurante">
                    <a href="restaurante.html" class="nav-link-restaurante">Restaurante</a>
                    <div class="dropdown-content-restaurante">
                        <a href="menu.html">Men√∫</a>
                        <a href="reserva-mesa.html">Reserva de Mesa</a>
                    </div>
                </div>
                <a href="servicios.html">Servicios</a>
                <a href="contacto.html">Contacto</a>
            </nav>
        </header>
        
        <h1 class="main-title">#ShumakWare</h1>

        <div class="booking-box">
            <h3>Fechas (opcionales)</h3>
            <form class="booking-form">
                <div class="date-range-group">
                    <div class="custom-date-picker">
                        <div class="date-picker-button" id="entry-btn">
                            <span>üìÖ</span>
                            <span class="date-label" id="entry-label">Entrada</span>
                        </div>
                        <div class="date-picker-button" id="exit-btn">
                            <span>üìÖ</span>
                            <span class="date-label" id="exit-label">Salida</span>
                        </div>
                    </div>
                    <div class="calendars-dropdown" id="calendars-dropdown">
                        <div class="calendar-side-info">
                            <h1 class="calendar-title">Seleccione sus fechas</h1>
                            <div class="calendar-nights">
                                <span id="nights-count">Noches seleccionadas: 0</span>
                            </div>
                        </div>
                        <div class="calendars-container">
                            <div class="calendar-block">
                                <div class="calendar-header">
                                    <button type="button" id="prev-month-btn">‚óÄ</button>
                                    <span id="entry-month-label" class="calendar-month-label"></span>
                                </div>
                                <div class="calendar-grid" id="entry-calendar-grid"></div>
                            </div>
                            <div class="calendar-block">
                                <div class="calendar-header">
                                    <span id="exit-month-label" class="calendar-month-label"></span>
                                    <button type="button" id="next-month-btn">‚ñ∂</button>
                                </div>
                                <div class="calendar-grid" id="exit-calendar-grid"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-group room-type-dropdown">
                    <select id="room-type">
                        <option value="">Tipo de Habitaci√≥n</option>
                        <option value="Sencilla">Sencilla (1 cama)</option>
                        <option value="Doble">Doble (2 camas)</option>
                        <option value="Matrimonial">Matrimonial (1 cama grande)</option>
                    </select>
                </div>
                
                <a href="habitaciones.html" class="search-btn">Buscar Disponibilidad</a>
            </form>
        </div>                              
    </section>
    
    <!-- Noticias / Habitaciones -->
    <section class="noticias-section">
        <div class="noticias-title">Nuestras Habitaciones</div>
        <div class="noticias-container">
            <div class="noticiasMain">
                <!-- Habitaci√≥n 1 -->
                <div class="noticia">
                    <div class="noticia-img" style="background-image: url('assests/habitacion_1.jpg');"></div>
                    <div class="noticia-info">
                        <div class="room-type">Vista Monta√±a</div>
                        <h2 class="room-title">Habitaci√≥n Sencilla</h2>
                        <p class="room-description">Disfruta de una estad√≠a inolvidable en Huaraz con nuestra habitaci√≥n con vista panor√°mica al imponente Huascar√°n. Rel√°jate en una cama c√≥moda y despierta cada ma√±ana con el espectacular paisaje de la Cordillera Blanca.</p>
                        <div class="price">S/. 200 <span>por noche</span></div>
                        <a href="habitaciones.html" class="btn">Reservar ahora</a>
                    </div>
                </div>
                
                <!-- Habitaci√≥n 2 -->
                <div class="noticia">
                    <div class="noticia-img" style="background-image: url('assests/habitacion_2.jpg');"></div>
                    <div class="noticia-info">
                        <div class="room-type">Familiar</div>
                        <h2 class="room-title">Habitaci√≥n Doble</h2>
                        <p class="room-description">Perfecta para amigos o familiares, esta habitaci√≥n cuenta con una cama para dos personas con colch√≥n ergon√≥mico y acogedoras colchas de lana de la sierra, ideales para el clima fresco de Huaraz.</p>
                        <div class="price">S/. 300 <span>por noche</span></div>
                        <a href="habitaciones.html" class="btn">Reservar ahora</a>
                    </div>
                </div>
                
                <!-- Habitaci√≥n 3 -->
                <div class="noticia">
                    <div class="noticia-img" style="background-image: url('assests/habitacion_3.jpg');"></div>
                    <div class="noticia-info">
                        <div class="room-type">Premium</div>
                        <h2 class="room-title">Habitaci√≥n Matrimonial</h2>
                        <p class="room-description">Pensada para parejas, nuestra cama matrimonial cuenta con un amplio colch√≥n de alta calidad, s√°banas frescas y un dise√±o que combina elegancia y relax. Disfruten de noches tranquilas con el clima serrano de Huaraz.</p>
                        <div class="price">S/. 400 <span>por noche</span></div>
                        <a href="habitaciones.html" class="btn">Reservar ahora</a>
                    </div>
                </div>
            </div>
            
            <button class="slider-btn prev-btn">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="slider-btn next-btn">
                <i class="fas fa-chevron-right"></i>
            </button>
            
            <div class="indicators">
                <div class="indicator active"></div>
                <div class="indicator"></div>
                <div class="indicator"></div>
            </div>
        </div>
    </section>
   
   <!-- Servicios -->
    <section class="services-idx">
        <div class="container">
            <div class="services-grid-idx">
                <div class="service-card-idx">
                    <i class="service-icon-idx fas fa-birthday-cake"></i>
                    <h3>Cumplea√±os</h3>
                    <p>Haz de tu d√≠a algo inolvidable en nuestro restaurante campestre, rodeado de naturaleza y buena energ√≠a. Ofrecemos deliciosos postres, decoraci√≥n festiva y un ambiente alegre para que disfrutes con tus seres queridos.</p>
                </div>
                <div class="service-card-idx">
                    <i class="service-icon-idx fas fa-ring"></i>
                    <h3>Matrimonios</h3>
                    <p>Celebra tu boda civil o recepci√≥n √≠ntima en un entorno √∫nico, con vistas al campo y men√∫s personalizados. Creamos un ambiente rom√°ntico y acogedor, perfecto para el comienzo de tu historia juntos.</p>
                </div>
                <div class="service-card-idx">
                    <i class="service-icon-idx fas fa-glass-cheers"></i>
                    <h3>Aniversarios</h3>
                    <p>Renueva tus promesas con una cena especial bajo las estrellas o un almuerzo campestre. Sorprendemos con detalles memorables, brindis y m√∫sica ambiental para que revivas cada momento con magia.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-grid">
                <div class="footer-section">
                    <h3>Acerca de Nosotros</h3>
                    <p>Shumak Ware es un hotel-restaurante campestre que combina la naturaleza con la comodidad, ofreciendo experiencias √∫nicas en el coraz√≥n de la Cordillera Blanca.</p>
                </div>
                <div class="footer-section">
                    <h3>Enlaces R√°pidos</h3>
                    <ul>
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="habitaciones.html">Habitaciones</a></li>
                        <li><a href="restaurante.html">Restaurante</a></li>
                        <li><a href="servicios.html">Servicios</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contacto</h3>
                    <ul>
                        <li><i class="fas fa-phone"></i> +51 912 345 678</li>
                        <li><i class="fas fa-envelope"></i> shumakware@gmail.com</li>
                        <li><i class="fas fa-map-marker-alt"></i> Anta, Huaraz, Ancash</li>
                        <li><i class="fab fa-facebook"></i> facebook.com/shumakware</li>
                        <li><i class="fab fa-instagram"></i> instagram.com/shumakware</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                &copy; 2023 Shumak Ware. Todos los derechos reservados.
            </div>
        </div>
    </footer>
    
    <script>
        // Carrusel de habitaciones
        document.addEventListener('DOMContentLoaded', function() {
            const noticiasMain = document.querySelector('.noticiasMain');
            const noticias = document.querySelectorAll('.noticia');
            const prevBtn = document.querySelector('.prev-btn');
            const nextBtn = document.querySelector('.next-btn');
            const indicators = document.querySelectorAll('.indicator');
            
            let currentIndex = 0;
            const slideCount = noticias.length;
            
            function updateSlider() {
                noticiasMain.style.transform = `translateX(-${currentIndex * 100}%)`;
                
                indicators.forEach((indicator, index) => {
                    if (index === currentIndex) {
                        indicator.classList.add('active');
                    } else {
                        indicator.classList.remove('active');
                    }
                });
            }
            
            function goToSlide(index) {
                currentIndex = index;
                if (currentIndex >= slideCount) currentIndex = 0;
                if (currentIndex < 0) currentIndex = slideCount - 1;
                updateSlider();
            }
            
            nextBtn.addEventListener('click', () => {
                currentIndex = (currentIndex + 1) % slideCount;
                updateSlider();
            });
            
            prevBtn.addEventListener('click', () => {
                currentIndex = (currentIndex - 1 + slideCount) % slideCount;
                updateSlider();
            });
            
            indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', () => {
                    goToSlide(index);
                });
            });
            
            setInterval(() => {
                currentIndex = (currentIndex + 1) % slideCount;
                updateSlider();
            }, 8000);
            
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    currentIndex = (currentIndex - 1 + slideCount) % slideCount;
                    updateSlider();
                } else if (e.key === 'ArrowRight') {
                    currentIndex = (currentIndex + 1) % slideCount;
                    updateSlider();
                }
            });
        });
    </script>
    
    <script>
        // Calendario de reservas
        const entryBtn = document.getElementById('entry-btn');
        const exitBtn = document.getElementById('exit-btn');
        const calendarsDropdown = document.getElementById('calendars-dropdown');
        const entryLabel = document.getElementById('entry-label');
        const exitLabel = document.getElementById('exit-label');
        const entryMonthLabel = document.getElementById('entry-month-label');
        const exitMonthLabel = document.getElementById('exit-month-label');
        const entryCalendarGrid = document.getElementById('entry-calendar-grid');
        const exitCalendarGrid = document.getElementById('exit-calendar-grid');
        const prevMonthBtn = document.getElementById('prev-month-btn');
        const nextMonthBtn = document.getElementById('next-month-btn');
        const nightsCount = document.getElementById('nights-count');

        let today = new Date();
        let entryDate = null;
        let exitDate = null;
        let entryMonth = today.getMonth();
        let entryYear = today.getFullYear();
        let exitMonth = entryMonth + 1;
        let exitYear = entryYear;
        let selecting = null;
        let hoverDate = null;

        function syncMonths(dir) {
            if (dir === 'next') {
                entryMonth++;
                if (entryMonth > 11) {
                    entryMonth = 0;
                    entryYear++;
                }
                exitMonth = entryMonth + 1;
                exitYear = entryYear;
                if (exitMonth > 11) {
                    exitMonth = 0;
                    exitYear += 1;
                }
            } else {
                entryMonth--;
                if (entryMonth < 0) {
                    entryMonth = 11;
                    entryYear--;
                }
                exitMonth = entryMonth + 1;
                exitYear = entryYear;
                if (exitMonth > 11) {
                    exitMonth = 0;
                    exitYear += 1;
                }
            }
        }

        function showCalendars(type) {
            calendarsDropdown.style.display = 'block';
            selecting = type;
            entryBtn.classList.add('neon');
            exitBtn.classList.toggle('neon', selecting === 'exit');
            renderCalendars();
        }

        function hideCalendars() {
            calendarsDropdown.style.display = 'none';
            entryBtn.classList.remove('neon');
            exitBtn.classList.remove('neon');
            selecting = null;
        }

        entryBtn.addEventListener('click', () => {showCalendars('entry')});
        exitBtn.addEventListener('click', () => {showCalendars('exit')});

        function renderCalendars() {
            renderCalendar('entry', entryYear, entryMonth, entryDate, exitDate);
            renderCalendar('exit', exitYear, exitMonth, exitDate, entryDate);
            updateNights();
        }

        function renderCalendar(type, year, month, selected, otherSelected) {
            const grid = type === 'entry' ? entryCalendarGrid : exitCalendarGrid;
            const monthLabel = type === 'entry' ? entryMonthLabel : exitMonthLabel;
            const current = new Date(year, month, 1);
            monthLabel.textContent = current.toLocaleDateString("es-ES", { month: "long", year: "numeric" });

            let html = '';
            const weekdays = ["Dom", "Lun", "Mar", "Mi√©", "Jue", "Vie", "S√°b"];
            weekdays.forEach(day => {
                html += `<div class="day-disabled" style="font-weight:bold;cursor:default;">${day}</div>`;
            });

            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();

            let minDate = new Date(today.getFullYear(), today.getMonth(), today.getDate());
            if (type === 'exit' && entryDate) {
                minDate = new Date(entryDate);
                minDate.setDate(minDate.getDate() + 1);
            }

            for (let i = 0; i < firstDay; i++) {
                html += `<div class="day-disabled"></div>`;
            }

            for (let day = 1; day <= daysInMonth; day++) {
                const dateObj = new Date(year, month, day);
                const dateStr = dateObj.toISOString().split('T')[0];
                let disabled = false;

                if (dateObj < minDate) disabled = true;
                if (type === 'entry' && dateObj < minDate) disabled = true;
                if (type === 'exit' && entryDate && dateObj <= new Date(entryDate)) disabled = true;

                let classes = [];
                if (disabled) classes.push('day-disabled');
                if (selected && dateStr === selected) classes.push('day-selected');

                if (entryDate && exitDate && !disabled) {
                    const entryD = new Date(entryDate);
                    const exitD = new Date(exitDate);
                    if (dateObj > entryD && dateObj < exitD) {
                        classes.push('day-range');
                    }
                }

                if (selecting === 'exit' && entryDate && hoverDate && !disabled) {
                    const entryD = new Date(entryDate);
                    const hoverD = new Date(hoverDate);
                    if (dateObj >= entryD && dateObj <= hoverD) {
                        classes.push('day-range-hover');
                    }
                }

                html += `<div 
                    class="${classes.join(' ')}"
                    data-type="${type}"
                    data-date="${dateStr}"
                    ${disabled ? '' : 'tabindex="0"'}
                >${day}</div>`;
            }

            grid.innerHTML = html;

            Array.from(grid.querySelectorAll('div[data-date]')).forEach(el => {
                el.addEventListener('click', function() {
                    const type = el.getAttribute('data-type');
                    const dateStr = el.getAttribute('data-date');
                    if (type === 'entry') {
                        entryDate = dateStr;
                        exitDate = null;
                        entryLabel.textContent = formatDate(entryDate);
                        exitLabel.textContent = "Salida";
                        renderCalendars();
                    } else {
                        exitDate = dateStr;
                        exitLabel.textContent = formatDate(exitDate);
                        hideCalendars();
                        renderCalendars();
                    }
                });
                el.addEventListener('mouseover', function() {
                    hoverDate = el.getAttribute('data-date');
                    renderCalendars();
                });
                el.addEventListener('mouseout', function() {
                    hoverDate = null;
                    renderCalendars();
                });
            });
        }

        prevMonthBtn.addEventListener('click', () => {
            syncMonths('prev');
            renderCalendars();
        });
        nextMonthBtn.addEventListener('click', () => {
            syncMonths('next');
            renderCalendars();
        });

        document.addEventListener('mousedown', function(e) {
            if (!calendarsDropdown.contains(e.target) && !entryBtn.contains(e.target) && !exitBtn.contains(e.target)) {
                hideCalendars();
            }
        });

        function formatDate(dateStr) {
            if (!dateStr) return "Entrada";
            const [year, month, day] = dateStr.split('-');
            return `${day}/${month}/${year}`;
        }

        function updateNights() {
            if (entryDate && exitDate) {
                const nights = (new Date(exitDate) - new Date(entryDate)) / (1000 * 60 * 60 * 24);
                nightsCount.textContent = `Noches seleccionadas: ${nights}`;
            } else {
                nightsCount.textContent = `Noches seleccionadas: 0`;
            }
        }

        entryLabel.textContent = "Entrada";
        exitLabel.textContent = "Salida";
        renderCalendars();
    </script>
</body>
</html>
